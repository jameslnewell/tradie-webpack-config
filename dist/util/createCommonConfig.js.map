{"version":3,"sources":["../../src/util/createCommonConfig.js"],"names":[],"mappings":";;;;;kBAEwB,wB;;AAFxB;;;;;;AAEe,SAAS,wBAAT,CAAkC,OAAlC,EAA2C;AAAA,MAEtD,GAFsD,GAKpD,OALoD,CAEtD,GAFsD;AAAA,MAGhC,gBAHgC,GAKpD,OALoD,CAGtD,OAHsD,CAG5C,UAH4C;AAAA,MAIjC,eAJiC,GAKpD,OALoD,CAItD,MAJsD,CAI7C,UAJ6C;;;AAOxD,MAAM,UAAU;;;AAAA,GAGb,MAHa,CAGN;AACN,UAAM,qCAAsB,gBAAtB,CADA;;AAGN,aAAS,GAHH;AAIN,YAAQ,cAJF;AAKN,WAAO;AACL,sBAAgB;;AADX;AALD,GAHM;;;AAAA,GAeb,MAfa,CAeN;AACN,UAAM,SADA;AAEN,YAAQ;AAFF,GAfM,CAAhB;;;;;;;;AA4BA,SAAO;;AAEL,WAAO,EAFF;;AAIL,aAAS;AACP,kBAAY,CAAC,EAAD,EAAK,MAAL,CAAY,gBAAZ,EAA8B,OAA9B,EAAuC,eAAvC;AADL,KAJJ;;AAQL,YAAQ;AACN,kBAAY,EADN;AAEN,sBAFM;AAGN,mBAAa;AAHP,KARH;;AAcL,aAAS;;AAdJ,GAAP;AAiBD","file":"createCommonConfig.js","sourcesContent":["import mapExtensionsToRegExp from './mapExtensionsToRegExp';\n\nexport default function createCommonBundleConfig(options) {\n  const {\n    src,\n    scripts: {extensions: scriptExtensions},\n    styles: {extensions: styleExtensions}\n  } = options;\n\n  const loaders = []\n\n    //transpile project scripts with the babel loader\n    .concat({\n      test: mapExtensionsToRegExp(scriptExtensions),\n      //TODO: pass babel config\n      include: src,\n      loader: 'babel-loader',\n      query: {\n        cacheDirectory: true\n        //TODO: pass babel config\n      }\n    })\n\n    //node and browserify loads JSON files like NodeJS does... emulate that for compatibility\n    .concat({\n      test: /\\.json$/,\n      loader: 'json-loader'\n    })\n\n  ;\n\n  //TODO: enable/disable optimize/minimize\n  //new webpack.LoaderOptionsPlugin({\n  //  minimize: true,\n  //  debug: false\n  //})\n\n  return {\n\n    entry: {},\n\n    resolve: {\n      extensions: [''].concat(scriptExtensions, '.json', styleExtensions)\n    },\n\n    module: {\n      preLoaders: [],\n      loaders,\n      postLoaders: []\n    },\n\n    plugins: []\n\n  };\n}\n"]}