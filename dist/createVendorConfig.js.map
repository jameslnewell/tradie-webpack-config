{"version":3,"sources":["../src/createVendorConfig.js"],"names":[],"mappings":";;;;;;;;kBAMwB,kB;;AANxB;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;AAEe,SAAS,kBAAT,CAA4B,YAA5B,EAA0C;AAAA,MAChD,QADgD,GAC6B,YAD7B,CAChD,QADgD;AAAA,MACtC,GADsC,GAC6B,YAD7B,CACtC,GADsC;AAAA,MACjC,IADiC,GAC6B,YAD7B,CACjC,IADiC;AAAA,MAC3B,GAD2B,GAC6B,YAD7B,CAC3B,GAD2B;AAAA,MACZ,OADY,GAC6B,YAD7B,CACtB,OADsB,CACZ,OADY;AAAA,MACO,kBADP,GAC6B,YAD7B,CACF,OADE;;;AAGvD,MAAI,gBAAgB,+BAAgB,YAAhB,CAApB;;;AAGA,+BACK,aADL;;AAGE,YAAQ,KAHV;AAIE,aAAS,WAAW,mBAAX,GAAiC,8BAJ5C;;AAME,WAAO,EAAC,QAAQ,OAAT,EANT;AAOE,aAAS,GAPX;;AASE,YAAQ;AACN,YAAM,IADA;AAEN,gBAAU,WAAW,uBAAX,GAAqC,WAFzC;AAGN,eAAS,Q;AAHH,KATV;;AAeE,0CACK,cAAc,OADnB,IAEE,IAAI,kBAAQ,SAAZ,CAAsB;AACpB,YAAM,eAAK,IAAL,CAAU,GAAV,EAAe,sBAAf,CADc;AAEpB,YAAM,Q;AAFc,KAAtB,CAFF;;AAfF;;;AA0BA,kBAAgB,qBAAM,aAAN,EAAqB,kBAArB,CAAhB;;AAEA,SAAO,aAAP;AACD","file":"createVendorConfig.js","sourcesContent":["import path from 'path';\nimport webpack from 'webpack';\n\nimport merge from './util/merge';\nimport createAppConfig from './util/createAppConfig';\n\nexport default function createVendorConfig(tradieConfig) {\n  const {optimize, src, dest, tmp, scripts: {vendors}, webpack: extraWebpackConfig} = tradieConfig;\n\n  let webpackConfig = createAppConfig(tradieConfig);\n\n  //merge common and test config\n  webpackConfig = {\n    ...webpackConfig,\n\n    target: 'web',\n    devtool: optimize ? 'hidden-source-map' : 'cheap-module-eval-source-map',\n\n    entry: {vendor: vendors},\n    context: src,\n\n    output: {\n      path: dest,\n      filename: optimize ? '[name].[chunkhash].js' : '[name].js',\n      library: '[name]' //FIXME: '[name]_[chunkhash]' in prod\n    },\n\n    plugins: [\n      ...webpackConfig.plugins,\n      new webpack.DllPlugin({\n        path: path.join(tmp, '[name]-manifest.json'),\n        name: '[name]' //FIXME: '[name]_[chunkhash]' in prod\n      })\n    ]\n\n  };\n\n  //merge extra webpack config\n  webpackConfig = merge(webpackConfig, extraWebpackConfig);\n\n  return webpackConfig;\n}\n"]}